(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports=a(71)},28:function(e,t,a){},29:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=(a(28),a(29),a(8)),u=a(9),i=a.n(u),m=a(20),s=a(3),d=function(e){var t=e.onSubmit,a=e.onChange,n=e.query;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:t},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:a}))))},f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],l=o[1],u=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(c);return r.a.createElement(d,{onSubmit:function(e){e.preventDefault(),t(c,null,u),l("")},onChange:function(e){var t=e.target.value;l(t)},query:c})},b=function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL,o=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:a,className:"ImageGalleryItem-image",onClick:function(){return o(n,a)}})))},g=function(e){var t=e.imagesCollection,a=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(b,Object.assign({key:e.id},e,{openModal:a}))}))))},E=function(e){var t=e.loadMore;return r.a.createElement("button",{className:"Button",onClick:t},"load more")},p=(a(31),a(21)),h=a.n(p),v=function(){return r.a.createElement(h.a,{type:"Bars",height:100,width:100,color:"#3f51b5",style:{marginTop:"20em"}})},O=function(e){var t=e.modalWindow,a=e.closeModal;return r.a.createElement("div",{className:"Overlay",onClick:a},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t.url,alt:t.alt})))},S=function(e){var t=e.modalWindow,a=e.closeModal,o=e.isModal,c=function(e){"Escape"===e.code&&a(o)};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]),r.a.createElement(O,{modalWindow:t,closeModal:function(e){"IMG"!==e.target.tagName&&a(o)}})},j=function(e){var t=e.onSubmit,a=e.imagesCollection,n=e.loadMore,o=e.loader,c=e.error,l=e.openModal,u=e.modalWindow,i=e.isModal,m=e.closeModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{onSubmit:t}),o&&r.a.createElement(v,null),c&&r.a.createElement("h1",null,"something went wrong, try again later"),!o&&!c&&!!a.length&&r.a.createElement(g,{imagesCollection:a,openModal:l}),!!a.length&&!o&&r.a.createElement(E,{loadMore:n}),i&&r.a.createElement(S,{modalWindow:u,closeModal:m,isModal:i}))},w=a(22),M=a.n(w).a.create({baseURL:"https://pixabay.com/api/"}),y=Object({NODE_ENV:"production",PUBLIC_URL:"/goit-react-hw-03-image-finder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CLIENT_KEY,C=function(e){return"?".concat(e,"&key=").concat(y)},N=a(10);a(70);N.a.configure();var k=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),f=(d[0],d[1],Object(n.useState)([])),b=Object(s.a)(f,2),g=b[0],E=b[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),v=h[0],O=h[1],S=Object(n.useState)(1),w=Object(s.a)(S,2),y=w[0],k=w[1],_=Object(n.useState)(!1),I=Object(s.a)(_,2),T=I[0],F=I[1],W=Object(n.useState)({url:"",alt:""}),x=Object(s.a)(W,2),L=x[0],R=x[1],D=Object(n.useState)(!1),P=Object(s.a)(D,2),U=P[0],A=P[1],B=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2?o[2]:void 0,t){e.next=5;break}return G(),e.abrupt("return");case 5:if(t!==n){e.next=7;break}return e.abrupt("return");case 7:return c(t),F(!0),e.prev=9,e.next=12,M.get(C("q=".concat(t,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12")));case 12:r=e.sent,H(n,t,r.data.hits),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),O(!0);case 19:return e.prev=19,F(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();!function(e,t){Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[e,t])}(g,T);var G=function(){E([]),k(1),N.a.success("\ud83e\udd13Hey! Are you here? I don't see what you're looking.")},H=function(e,t,a){e?e===t||E(Object(l.a)(a)):E([].concat(Object(l.a)(g),Object(l.a)(a)))};return r.a.createElement(j,{onSubmit:B,imagesCollection:g,loadMore:function(){var e=y+1;B(o,e),k(e)},loader:T,error:v,openModal:function(e,t){R({url:e,alt:t}),A(!0)},modalWindow:L,isModal:U,closeModal:function(e){A(!e)}})};var _=function(){return r.a.createElement(k,null)};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.44453a75.chunk.js.map