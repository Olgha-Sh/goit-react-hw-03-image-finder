{"version":3,"sources":["Components/Searchbar/Searchbar.jsx","Containers/Searchbar/SearchbarContainer.js","hooks/previousState.js","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","Containers/Modal/ModalContainer.js","Components/ImageFinder/ImageFinder.jsx","helpers/axios.js","helpers/builderURL.js","Containers/ImageFinder/ImageFinderContainer.js","hooks/scrollTo.js","App.js","index.js"],"names":["Searchbar","onSubmit","onChange","query","className","type","autoComplete","autoFocus","placeholder","value","SearchbarContainer","useState","setQuery","prevQuery","ref","useRef","useEffect","current","prevState","e","preventDefault","target","ImageGalleryItem","webformatURL","tags","largeImageURL","openModal","src","alt","onClick","ImageGallery","imagesCollection","map","image","key","id","Button","loadMore","Loader","height","width","color","style","marginTop","Modal","modalWindow","closeModal","url","ModalContainer","isModal","exitKey","code","window","addEventListener","removeEventListener","tagName","ImageFinder","loader","error","length","Axios","create","baseURL","toast","configure","ImageFinderContainer","props","setImagesCollection","setError","numberPage","setNumberPage","setLoader","setModalWindow","setIsModal","requestMoreImages","a","page","prevValue","conditionalEmptyInput","axios","get","builderURL","response","conditionalFillingList","data","hits","arr","scrollTo","top","document","documentElement","scrollHeight","behavior","success","newPage","caption","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37154950.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Searchbar = ({ onSubmit, onChange, query }) => {\n  return (\n    <>\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={onSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={onChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nexport default Searchbar;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Searchbar from \"../../Components/Searchbar/Searchbar\";\nimport prevState from \"../../hooks/previousState\";\nconst SearchbarContainer = ({ onSubmit }) => {\n  const [query, setQuery] = useState(\"\");\n  const prevQuery = prevState(query);\n  const handleChange = (e) => {\n    const query = e.target.value;\n    setQuery(query);\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(query, null, prevQuery);\n    setQuery(\"\");\n  };\n  return (\n    <Searchbar onSubmit={handleSubmit} onChange={handleChange} query={query} />\n  );\n};\nSearchbarContainer.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchbarContainer;\n","import { useRef, useEffect } from \"react\";\nexport default (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, openModal }) => {\n  return (\n    <>\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={webformatURL}\n          alt={tags}\n          className=\"ImageGalleryItem-image\"\n          onClick={() => openModal(largeImageURL, tags)}\n        />\n      </li>\n    </>\n  );\n};\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nconst ImageGallery = ({ imagesCollection, openModal }) => {\n  return (\n    <>\n      <ul className=\"ImageGallery\">\n        {imagesCollection.map((image) => (\n          <ImageGalleryItem key={image.id} {...image} openModal={openModal} />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  imagesCollection: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ loadMore }) => (\n  <button className=\"Button\" onClick={loadMore}>\n    load more\n  </button>\n);\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Downloader from \"react-loader-spinner\";\nconst Loader = () => (\n  <Downloader\n    type=\"Bars\"\n    height={100}\n    width={100}\n    color=\"#3f51b5\"\n    style={{ marginTop: \"20em\" }}\n  />\n);\n\nexport default Loader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Modal = ({ modalWindow, closeModal }) => {\n  return (\n    <div className=\"Overlay\" onClick={closeModal}>\n      <div className=\"Modal\">\n        <img src={modalWindow.url} alt={modalWindow.alt} />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  modalWindow: PropTypes.shape({}),\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Modal from \"../../Components/Modal/Modal\";\nconst ModalContainer = ({ modalWindow, closeModal, isModal }) => {\n  const exitKey = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal(isModal);\n    }\n  };\n  const clickClose = (e) => {\n    if (e.target.tagName === \"IMG\") {\n      return;\n    }\n    closeModal(isModal);\n  };\n  useEffect(() => {\n    window.addEventListener(\"keydown\", exitKey);\n    return () => {\n      window.removeEventListener(\"keydown\", exitKey);\n    };\n  }, []);\n  return <Modal modalWindow={modalWindow} closeModal={clickClose} />;\n};\n\nModalContainer.propTypes = {\n  modalWindow: PropTypes.shape({}),\n  closeModal: PropTypes.func.isRequired,\n  isModal: PropTypes.bool.isRequired,\n};\n\nexport default ModalContainer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchbarContainer from \"../../Containers/Searchbar/SearchbarContainer\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport ModalContainer from \"../../Containers/Modal/ModalContainer\";\n\nconst ImageFinder = ({\n  onSubmit,\n  imagesCollection,\n  loadMore,\n  loader,\n  error,\n  openModal,\n  modalWindow,\n  isModal,\n  closeModal,\n}) => {\n  return (\n    <>\n      <SearchbarContainer onSubmit={onSubmit} />\n      {loader && <Loader />}\n      {error && <h1>something went wrong, try again later</h1>}\n      {!loader && !error && !!imagesCollection.length && (\n        <ImageGallery\n          imagesCollection={imagesCollection}\n          openModal={openModal}\n        />\n      )}\n      {!!imagesCollection.length && !loader && (\n        <Button loadMore={loadMore}></Button>\n      )}\n      {isModal && (\n        <ModalContainer\n          modalWindow={modalWindow}\n          closeModal={closeModal}\n          isModal={isModal}\n        />\n      )}\n    </>\n  );\n};\n\nImageFinder.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  imagesCollection: PropTypes.array.isRequired,\n  loadMore: PropTypes.func.isRequired,\n  loader: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n  openModal: PropTypes.func.isRequired,\n  modalWindow: PropTypes.shape({}),\n  isModal: PropTypes.bool.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default ImageFinder;\n","import Axios from 'axios';\n\nexport default Axios.create({\n  baseURL: 'https://pixabay.com/api/',\n});\n","const CLIENT_KEY = '17400489-7d3116460602bc816f225b3ce';\n\nexport default url => {\n  return `?${url}&key=${CLIENT_KEY}`;\n};\n","import React, { useState } from \"react\";\nimport ImageFinder from \"../../Components/ImageFinder/ImageFinder\";\nimport axios from \"../../helpers/axios\";\nimport builderURL from \"../../helpers/builderURL\";\nimport scrollTo from \"../../hooks/scrollTo\";\n\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\ntoast.configure();\n\nconst ImageFinderContainer = (props) => {\n  const [query, setQuery] = useState(\"\");\n  const [value, setValue] = useState(\"\");\n  const [imagesCollection, setImagesCollection] = useState([]);\n  const [error, setError] = useState(false);\n  const [numberPage, setNumberPage] = useState(1);\n  const [loader, setLoader] = useState(false);\n  const [modalWindow, setModalWindow] = useState({ url: \"\", alt: \"\" });\n  const [isModal, setIsModal] = useState(false);\n\n  const requestMoreImages = async (value, page = 1, prevValue) => {\n    if (!value) {\n      conditionalEmptyInput();\n      return;\n    }\n    if (value === prevValue) return;\n    setQuery(value);\n    setLoader(true);\n    try {\n      const response = await axios.get(\n        builderURL(\n          `q=${value}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n      );\n      conditionalFillingList(prevValue, value, response.data.hits);\n    } catch (error) {\n      setError(true);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const loadMore = () => {\n    const newPage = numberPage + 1;\n    requestMoreImages(query, newPage);\n    setNumberPage(newPage);\n  };\n\n  scrollTo(imagesCollection, loader);\n\n  const conditionalEmptyInput = () => {\n    setImagesCollection([]);\n    setNumberPage(1);\n    toast.success(\"🤓Hey! Are you here? I don't see what you're looking.\");\n  };\n\n  const conditionalFillingList = (prevValue, value, data) => {\n    if (!prevValue) {\n      setImagesCollection([...imagesCollection, ...data]);\n      return;\n    }\n    if (prevValue !== value) {\n      setImagesCollection([...data]);\n      return;\n    }\n  };\n\n  const openModal = (image, caption) => {\n    setModalWindow({ url: image, alt: caption });\n    setIsModal(true);\n  };\n  const closeModal = (isModal) => {\n    setIsModal(!isModal);\n  };\n\n  return (\n    <ImageFinder\n      onSubmit={requestMoreImages}\n      imagesCollection={imagesCollection}\n      loadMore={loadMore}\n      loader={loader}\n      error={error}\n      openModal={openModal}\n      modalWindow={modalWindow}\n      isModal={isModal}\n      closeModal={closeModal}\n    />\n  );\n};\n\nexport default ImageFinderContainer;\n","import { useEffect } from \"react\";\nexport default (arr, loader) => {\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [arr, loader]);\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport ImageFinderContainer from \"./Containers/ImageFinder/ImageFinderContainer\";\n\nfunction App() {\n  return <ImageFinderContainer />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}